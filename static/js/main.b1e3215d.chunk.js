(this["webpackJsonpkaplan-book-list"]=this["webpackJsonpkaplan-book-list"]||[]).push([[0],{22:function(e,t,o){},23:function(e,t,o){},43:function(e,t,o){"use strict";o.r(t);var s=o(2),n=o.n(s),a=o(16),i=o.n(a),c=(o(22),o(23),o(3)),l=o(4),r=o(6),u=o(5),h=o(17),b=o.n(h),d=o(0),j=function(e){var t=e.book;return Object(d.jsxs)("div",{className:"book-card",children:[Object(d.jsx)("div",{className:"book-img",children:t.volumeInfo.imageLinks?Object(d.jsx)("img",{src:t.volumeInfo.imageLinks.thumbnail,alt:t.volumeInfo.title+" image"}):Object(d.jsx)("i",{className:"fas fa-book"})}),Object(d.jsxs)("div",{className:"book-data",children:[Object(d.jsxs)("div",{className:"book-title",children:[" ",t.volumeInfo.title," "]}),Object(d.jsxs)("div",{className:"book-author",children:[t.volumeInfo.authors.reduce((function(e,t){return e+" "+t}),"")," "]}),Object(d.jsxs)("div",{className:"book-other",children:[Object(d.jsxs)("div",{children:["Publisher: ",t.volumeInfo.publisher]}),Object(d.jsxs)("div",{children:["Published Date: ",t.volumeInfo.publishedDate]})]})]})]})},p=function(e){return Object(d.jsx)("div",{className:"popup-overlay "+(e.isPopupShow?"":"hidden"),children:Object(d.jsxs)("div",{className:"popup-content",children:[Object(d.jsx)("div",{className:"popup-title",children:e.title}),Object(d.jsx)("span",{className:"close-icon",onClick:e.closePopup,children:Object(d.jsx)("i",{className:"fa fa-times"})}),e.children]})})},m=function(e){Object(r.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(c.a)(this,o);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={title:"",authors:"",publisher:""},e.handleTitleChange=function(t){e.setState({title:t.target.value})},e.handleAuthorChange=function(t){e.setState({authors:t.target.value})},e.handlePublisherChange=function(t){e.setState({publisher:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var o=e.state,s=o.title,n=o.authors,a=o.publisher,i=Date.now();e.props.createBook({id:i,volumeInfo:{title:s,authors:[n],publisher:a}})},e}return Object(l.a)(o,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(d.jsxs)("form",{className:"new-book-form",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("div",{className:"form-item",children:[Object(d.jsx)("label",{children:"Title :"}),Object(d.jsx)("input",{placeholder:"Enter book Title",onChange:this.handleTitleChange,required:!0})]}),Object(d.jsxs)("div",{className:"form-item",children:[Object(d.jsx)("label",{children:"Author :"}),Object(d.jsx)("input",{placeholder:"Enter book Author",onChange:this.handleAuthorChange,required:!0})]}),Object(d.jsxs)("div",{className:"form-item",children:[Object(d.jsx)("label",{children:"Publisher :"}),Object(d.jsx)("input",{placeholder:"Enter book Publisher",onChange:this.handlePublisherChange,required:!0})]}),Object(d.jsx)("div",{className:"form-item new-btn-box",children:Object(d.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})})]})}}]),o}(s.Component),f=function(e){Object(r.a)(o,e);var t=Object(u.a)(o);function o(){var e;Object(c.a)(this,o);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={bookList:[],isLoading:!0,isFailed:!1,searchQur:"",isPopupShow:!1},e.getBookList=function(){e.setState({isLoading:!0,isFailed:!1}),b.a.get("https://www.googleapis.com/books/v1/volumes?q=kaplan%20test%20prep").then((function(t){var o=t.data.items;e.setState({bookList:o,isLoading:!1}),localStorage.setItem("bookList",JSON.stringify(o))})).catch((function(t){console.log(t),e.setState({bookList:[],isLoading:!1,isFailed:!0})}))},e.handleQuery=function(t){var o=t.target.value;o=o.replace(/[-\\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.setState({searchQur:o})},e.filterBooks=function(){var t=e.state,o=t.bookList,s=t.searchQur,n=new RegExp(s,"ig");return o.filter((function(e){return!!(e.volumeInfo.title&&e.volumeInfo.title.match(n)||e.volumeInfo.publisher&&e.volumeInfo.publisher.match(n)||e.volumeInfo.authors&&e.volumeInfo.authors.length&&e.volumeInfo.authors.reduce((function(e,t){return e+" "+t}),"").match(n))}))},e.openPopup=function(){e.setState({isPopupShow:!0})},e.closePopup=function(){e.setState({isPopupShow:!1})},e.createBook=function(t){var o=e.state.bookList;o.push(t),e.setState(o),localStorage.setItem("bookList",JSON.stringify(o))},e}return Object(l.a)(o,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("bookList"),t=[];try{t=JSON.parse(e)}catch(o){console.log(o)}t&&t.length?this.setState({bookList:t}):this.getBookList()}},{key:"render",value:function(){var e=this,t=this.state,o=t.isLoading,s=t.isFailed,n=t.isPopupShow,a=this.filterBooks();return Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)("div",{className:"header",children:"Kaplan Book List"}),Object(d.jsxs)("div",{className:"sub-header",children:[Object(d.jsxs)("div",{className:"search-box",children:[Object(d.jsx)("input",{type:"text",placeholder:"Search by title, author, publisher",value:this.state.queryText,onChange:function(t){return e.handleQuery(t)},required:!0,autoFocus:!0}),Object(d.jsx)("button",{value:"Search",children:Object(d.jsx)("i",{className:this.props.isSearching?"fas fa-circle-notch fa-spin":"fas fa-search"})})]}),Object(d.jsx)("div",{className:"new-btn-box",children:Object(d.jsx)("button",{onClick:this.openPopup,children:"Create New Book"})})]}),Object(d.jsx)("div",{className:"book-list",children:a.length?a.map((function(e){return Object(d.jsx)(j,{book:e},e.id)})):o?"Loading":s?"Failed":"No data"}),Object(d.jsx)(p,{title:"Create New Book",isPopupShow:n,closePopup:this.closePopup,children:Object(d.jsx)(m,{createBook:this.createBook})})]})}}]),o}(s.Component);var v=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(f,{})})},O=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,44)).then((function(t){var o=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;o(e),s(e),n(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),O()}},[[43,1,2]]]);
//# sourceMappingURL=main.b1e3215d.chunk.js.map