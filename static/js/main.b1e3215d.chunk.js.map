{"version":3,"sources":["components/BookCard.js","components/Popup.js","components/NewBook.js","components/BookList.js","App.js","reportWebVitals.js","index.js"],"names":["BookCard","props","book","className","volumeInfo","imageLinks","src","thumbnail","alt","title","authors","reduce","a","c","publisher","publishedDate","Popup","isPopupShow","onClick","closePopup","children","NewBook","state","handleTitleChange","e","setState","target","value","handleAuthorChange","handlePublisherChange","handleSubmit","preventDefault","id","Date","now","createBook","onSubmit","this","placeholder","onChange","required","type","Component","BookList","bookList","isLoading","isFailed","searchQur","getBookList","axios","get","then","res","items","data","localStorage","setItem","JSON","stringify","catch","err","console","log","handleQuery","replace","filterBooks","searchRe","RegExp","filter","match","length","openPopup","push","ls","getItem","parse","filteredBookList","queryText","autoFocus","isSearching","map","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1e3215d.chunk.js","sourcesContent":["import React from 'react';\n\nconst BookCard = props => {\n  const { book } = props;\n  return (\n    <div className=\"book-card\">\n      <div className=\"book-img\">\n        {/* Show thumbnail if book image is not available */}\n        {book.volumeInfo.imageLinks ? (\n          <img\n            src={book.volumeInfo.imageLinks.thumbnail}\n            alt={book.volumeInfo.title + ' image'}\n          />\n        ) : (\n          <i className=\"fas fa-book\"></i>\n        )}\n      </div>\n      <div className=\"book-data\">\n        <div className=\"book-title\"> {book.volumeInfo.title} </div>\n        <div className=\"book-author\">\n          {book.volumeInfo.authors.reduce((a, c) => a + ' ' + c, '')}{' '}\n        </div>\n        <div className=\"book-other\">\n          <div>Publisher: {book.volumeInfo.publisher}</div>\n          <div>Published Date: {book.volumeInfo.publishedDate}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookCard;\n","import React from 'react';\n\nconst Popup = props => {\n  return (\n    <div className={'popup-overlay ' + (props.isPopupShow ? '' : 'hidden')}>\n      <div className=\"popup-content\">\n        <div className=\"popup-title\">{props.title}</div>\n        <span className=\"close-icon\" onClick={props.closePopup}>\n          <i className=\"fa fa-times\"></i>\n        </span>\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default Popup;\n","import React, { Component } from 'react';\n\nclass NewBook extends Component {\n  state = {\n    title: '',\n    authors: '',\n    publisher: ''\n  };\n\n  componentDidMount() {}\n\n  handleTitleChange = e => {\n    this.setState({ title: e.target.value });\n  };\n\n  handleAuthorChange = e => {\n    this.setState({ authors: e.target.value });\n  };\n\n  handlePublisherChange = e => {\n    this.setState({ publisher: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { title, authors, publisher } = this.state;\n    // Generate a random id, date EPOCH for now\n    const id = Date.now();\n    this.props.createBook({\n      id,\n      volumeInfo: { title, authors: [authors], publisher }\n    });\n  };\n\n  render() {\n    return (\n      <form className=\"new-book-form\" onSubmit={this.handleSubmit}>\n        <div className=\"form-item\">\n          <label>Title :</label>\n          <input\n            placeholder=\"Enter book Title\"\n            onChange={this.handleTitleChange}\n            required\n          />\n        </div>\n        <div className=\"form-item\">\n          <label>Author :</label>\n          <input\n            placeholder=\"Enter book Author\"\n            onChange={this.handleAuthorChange}\n            required\n          />\n        </div>\n        <div className=\"form-item\">\n          <label>Publisher :</label>\n          <input\n            placeholder=\"Enter book Publisher\"\n            onChange={this.handlePublisherChange}\n            required\n          />\n        </div>\n        <div className=\"form-item new-btn-box\">\n          <button\n            type=\"submit\"\n            className=\"submit-btn\"\n            // onClick={this.handleSubmit}\n          >\n            Submit\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default NewBook;\n","import React, { Component } from 'react';\n\nimport axios from 'axios';\nimport BookCard from './BookCard';\nimport Popup from './Popup';\nimport NewBook from './NewBook';\n\nclass BookList extends Component {\n  state = {\n    bookList: [],\n    isLoading: true,\n    isFailed: false,\n    searchQur: '',\n    isPopupShow: false\n  };\n\n  componentDidMount() {\n    const ls = localStorage.getItem('bookList');\n    let bookList = [];\n\n    try {\n      bookList = JSON.parse(ls);\n    } catch (e) {\n      console.log(e);\n    }\n\n    if (bookList && bookList.length) {\n      this.setState({ bookList });\n    } else {\n      this.getBookList();\n    }\n  }\n\n  getBookList = () => {\n    // Set initial state for showing loading\n    this.setState({ isLoading: true, isFailed: false });\n\n    axios\n      .get('https://www.googleapis.com/books/v1/volumes?q=kaplan%20test%20prep')\n      .then(res => {\n        // console.log(res.data);\n        const { items } = res.data;\n        this.setState({ bookList: items, isLoading: false });\n        // Set in localStorage\n        localStorage.setItem('bookList', JSON.stringify(items));\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({ bookList: [], isLoading: false, isFailed: true });\n      });\n  };\n\n  handleQuery = e => {\n    let searchQur = e.target.value;\n    searchQur = searchQur.replace(/[-\\\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'); // Remove escape characters\n\n    this.setState({ searchQur });\n  };\n\n  filterBooks = () => {\n    const { bookList, searchQur } = this.state;\n    const searchRe = new RegExp(searchQur, 'ig');\n\n    const filteredList = bookList.filter(book => {\n      if (\n        (book.volumeInfo.title && !!book.volumeInfo.title.match(searchRe)) ||\n        (book.volumeInfo.publisher &&\n          !!book.volumeInfo.publisher.match(searchRe)) ||\n        (book.volumeInfo.authors &&\n          book.volumeInfo.authors.length &&\n          !!book.volumeInfo.authors\n            .reduce((a, c) => a + ' ' + c, '')\n            .match(searchRe))\n      ) {\n        return true;\n      }\n      return false;\n    });\n\n    return filteredList;\n  };\n\n  openPopup = () => {\n    this.setState({ isPopupShow: true });\n  };\n\n  closePopup = () => {\n    this.setState({ isPopupShow: false });\n  };\n\n  createBook = book => {\n    const { bookList } = this.state;\n    bookList.push(book);\n    this.setState(bookList);\n    localStorage.setItem('bookList', JSON.stringify(bookList));\n  };\n\n  render() {\n    const { isLoading, isFailed, isPopupShow } = this.state;\n    const filteredBookList = this.filterBooks();\n\n    return (\n      <div className=\"main\">\n        <div className=\"header\">Kaplan Book List</div>\n        <div className=\"sub-header\">\n          <div className=\"search-box\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by title, author, publisher\"\n              value={this.state.queryText}\n              onChange={e => this.handleQuery(e)}\n              required={true}\n              autoFocus={true}\n            />\n            <button value=\"Search\">\n              <i\n                className={\n                  this.props.isSearching\n                    ? 'fas fa-circle-notch fa-spin'\n                    : 'fas fa-search'\n                }\n              ></i>\n            </button>\n          </div>\n          <div className=\"new-btn-box\">\n            <button onClick={this.openPopup}>Create New Book</button>\n          </div>\n        </div>\n\n        <div className=\"book-list\">\n          {filteredBookList.length\n            ? filteredBookList.map(book => (\n                <BookCard key={book.id} book={book} />\n              ))\n            : isLoading\n            ? 'Loading'\n            : isFailed\n            ? 'Failed'\n            : 'No data'}\n        </div>\n\n        <Popup\n          title=\"Create New Book\"\n          isPopupShow={isPopupShow}\n          closePopup={this.closePopup}\n        >\n          <NewBook createBook={this.createBook} />\n        </Popup>\n      </div>\n    );\n  }\n}\n\nexport default BookList;\n","import './App.scss';\nimport BookList from './components/BookList';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BookList />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}